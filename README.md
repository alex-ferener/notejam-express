# notejam-express

### Improvements:
- containerization (see `docker-compose.yml` and `docker` folder)
- replace `SQLite` with `MySQL`
- store sessions in `Redis`
- bug-fix: `change password` was not working
- create 2x tests to validate `change password` functionality 
- major version upgrade for `mocha` (because it was not working with Node.js 14.x)
- refactor boostrap for tests (after upgrade)
- critical bug-fix: `New Note` & `Edit Note` were crashing node.js process when no pad was selected
- complete re-design for db fixtures. Removed all SQL statements and replaced with ORM methods 
- fix mysql columns: `created_at` and `updated_at`. Initialize them in the app because of ORM library limitation
- add convenience `scripts` in `package.json`
- fix `Mixed Content` errors generated by pages loaded over HTTPS

### Install dependencies

```shell
docker-compose run --rm notejam npm install
```

### Create tables and `test` database for local env (run it only once)

```shell
sleep 15;  # wait for mysql server to start
docker-compose run --rm notejam npm run init-db -- --create-test-db
```

### Start the app - http://127.0.0.1:3000/

```shell
docker-compose up -d
```

### Run unit tests

```shell
docker-compose run --rm notejam npm test
```

### Stop the app

```shell
docker-compose down
```
